/* ===== 字體優化 ===== */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

:root {
  /* 現代字體堆疊 */
  --vp-font-family-base: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans TC', 'Microsoft JhengHei', sans-serif;
  --vp-font-family-mono: 'Cascadia Code', 'Fira Code', 'Consolas', 'Monaco', monospace;

  /* ===== 淺色主題色彩定義 ===== */
  --vp-c-brand-1: #DC2626;
  /* 主要紅 - 結構性元素主色 */
  --vp-c-brand-2: #B02121;

  /* 核心紅 - 強調與邊框 */
  /* Skip Link for Accessibility */
  .skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    background: var(--vp-c-brand-1);
    color: white;
    padding: 8px 16px;
    text-decoration: none;
    z-index: 1000;
    border-radius: 0 0 4px 0;
  }

  .skip-link:focus {
    top: 0;
  }

  /* Design Tokens */
  --vp-c-brand-3: #D97706;
  /* 琥珀橘 - 連結與 Hover 狀態 */

  --vp-c-brand-soft-active: rgba(220, 38, 38, 0.12);
  /* 選中狀態背景：12% 不透明度 */
  --vp-c-brand-soft-hover: rgba(220, 38, 38, 0.06);
  /* 懸停狀態背景：6% 不透明度 */

  --vp-c-divider: rgba(176, 33, 33, 0.15);
  --vp-c-bg: #ffffff;
  --vp-c-bg-soft: #f8f8f8;
  --vp-c-text-1: #1f2937;

  --vp-code-block-bg: #fdfaf9;
  --vp-home-hero-name-background: linear-gradient(135deg, #DC2626 0%, #EF4444 50%, #F87171 100%);

  /* ===== DESIGN TOKENS ===== */

  /* 圓角尺寸 */
  --radius-xs: 4px;
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 20px;
  --radius-2xl: 24px;
  --radius-full: 9999px;

  /* 過渡時間 */
  --duration-fast: 0.2s;
  --duration-normal: 0.25s;
  --duration-standard: 0.3s;

  /* 緩動函數 */
  --ease-default: ease;
  --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-bounce: cubic-bezier(0.175, 0.885, 0.32, 1.275);

  /* 過渡組合 */
  --transition-fast: var(--duration-fast) var(--ease-default);
  --transition-normal: var(--duration-normal) var(--ease-default);
  --transition-standard: var(--duration-standard) var(--ease-default);
  --transition-smooth: var(--duration-standard) var(--ease-smooth);

  /* 陰影 - 紅色系（用於強調和互動元素）*/
  --shadow-brand-sm: 0 4px 12px rgba(220, 38, 38, 0.15);
  --shadow-brand-md: 0 4px 12px rgba(220, 38, 38, 0.25);
  --shadow-brand-lg: 0 6px 20px rgba(220, 38, 38, 0.35);
  --shadow-brand-xl: 0 8px 24px rgba(220, 38, 38, 0.15);
  --shadow-brand-glow: 0 0 15px rgba(220, 38, 38, 0.05);

  /* 陰影 - 中性色（用於非互動元素）*/
  --shadow-sm: 0 4px 12px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 10px 30px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 30px rgba(0, 0, 0, 0.3);

  /* 間距系統（基於 8px 網格）*/
  --spacing-xs: 0.5rem;
  --spacing-sm: 0.75rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;
  --spacing-2xl: 3rem;
  --spacing-3xl: 4rem;

  /* ===== CATEGORY COLORS ===== */
  --cat-ai-color: #7048E8;
  --cat-backend-color: #1864AB;
  --cat-frontend-color: #AE3EC9;
  --cat-devops-color: #0288D1;
  --cat-data-color: #F59F00;
}

.dark {
  /* ===== 深色主題色彩定義 (橘色系) ===== */
  --vp-c-brand-1: #FB923C;
  /* 主橘 - 深色背景下的溫暖橘色 */
  --vp-c-brand-2: #F97316;

  --vp-c-brand-soft-active: rgba(251, 146, 60, 0.16);
  /* 選中狀態背景：16% 不透明度 */
  --vp-c-brand-soft-hover: rgba(251, 146, 60, 0.08);
  /* 懸停狀態背景：8% 不透明度 */

  --vp-c-bg: #1b1b1f;
  --vp-c-bg-soft: #242429;
  --vp-c-divider: rgba(251, 146, 60, 0.2);
  --vp-c-text-1: #f3f4f6;

  --vp-code-block-bg: #161618;
  --vp-home-hero-name-background: linear-gradient(135deg, #F97316 0%, #FB923C 50%, #FCD34D 100%);

  --cat-ai-color: #B197FC;
  --cat-backend-color: #4DABF7;
  --cat-frontend-color: #E599F7;
  --cat-devops-color: #38BDF8;
  --cat-data-color: #FFD43B;
}

/* ===== 0. 全域互動與選取 ===== */
::selection {
  background: var(--vp-c-brand-soft-active);
  color: var(--vp-c-brand-1);
}

/* ===== 1. 互動組件增強 (Buttons & Features) ===== */
.VPButton.brand {
  color: #ffffff !important;
  background: var(--vp-c-brand-1) !important;
  font-weight: 600;
  transition: var(--transition-smooth);
  box-shadow: var(--shadow-brand-md);
  border-radius: var(--radius-2xl) !important;
}

.VPButton.brand:hover {
  transform: translateY(-2px);
  filter: brightness(1.1);
  box-shadow: 0 6px 20px rgba(220, 38, 38, 0.35);
}

.VPFeature {
  transition: var(--transition-standard);
}

.VPFeature:hover {
  border-color: var(--vp-c-brand-1) !important;
  transform: translateY(-4px);
  box-shadow: var(--shadow-brand-xl);
}

/* ===== 2. 文檔排版優化 (Typography & Media) ===== */
.vp-doc h1 {
  font-size: 2.5rem;
  font-weight: 800;
  border-bottom: 4px solid var(--vp-c-brand-1);
  padding-bottom: 0.5rem;
  margin-bottom: 1.5rem;
}

.vp-doc h2 {
  font-size: 1.8rem;
  color: var(--vp-c-brand-1);
  position: relative;
  padding-left: 1.2rem;
  margin-top: 2.5rem;
}

.vp-doc h2::before {
  content: '';
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 5px;
  height: 70%;
  background: linear-gradient(to bottom, var(--vp-c-brand-1), var(--vp-c-brand-2));
  border-radius: var(--radius-xs);
}

.vp-doc li::marker {
  color: var(--vp-c-brand-1);
  font-weight: bold;
}

.vp-doc a {
  color: var(--vp-c-brand-1);
  font-weight: 500;
  text-decoration-thickness: 1.5px;
  transition: color var(--transition-fast);
}

.vp-doc a:hover {
  color: var(--vp-c-brand-3);
  text-decoration: underline;
}

/* 圖片風格一致化 */
.vp-doc img {
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-md);
  margin: 2rem auto;
}

.dark .vp-doc img {
  box-shadow: var(--shadow-lg);
}

/* 表格強化 */
.vp-doc table {
  display: table;
  width: 100%;
}

.vp-doc thead th {
  background-color: var(--vp-c-bg-soft);
  color: var(--vp-c-brand-1);
  border-bottom: 2px solid var(--vp-c-brand-1);
}

/* ===== 3. 程式碼語法高亮 (Syntax Highlighting) ===== */
.vp-doc code:not([class*='language-']) {
  background-color: var(--vp-c-bg-soft);
  color: var(--vp-c-brand-1);
  padding: 0.2em 0.4em;
  border-radius: var(--radius-xs);
  font-weight: 600;
}

.vp-doc [class*='language-'] {
  background-color: var(--vp-code-block-bg) !important;
  border: 1px solid var(--vp-c-divider);
  box-shadow: var(--shadow-sm);
  border-radius: var(--radius-sm);
}

.vp-doc .token.keyword,
.vp-doc .token.builtin,
.vp-doc .token.punctuation,
.vp-doc .token.operator {
  color: var(--vp-c-brand-1) !important;
  font-weight: 600;
}

.vp-doc .token.string,
.vp-doc .token.number,
.vp-doc .token.attr-value {
  color: #EA580C !important;
}

.dark .vp-doc .token.string,
.dark .vp-doc .token.number {
  color: #FBBF24 !important;
}

/* ===== 4. 側邊欄優化 (Sidebar) ===== */
/* 確保側邊欄滾動到底部時，所有文章都可見 */
.VPSidebar {
  padding-bottom: 200px !important;
}

.VPSidebarItem.is-link .link {
  position: relative;
  transition: var(--transition-normal);
}

.VPSidebarItem.is-link .link::before {
  content: '\f054';
  /* fa-chevron-right */
  font-family: 'Font Awesome 6 Free';
  font-weight: 900;
  position: absolute;
  left: 6px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 0.65rem;
  opacity: 0;
  transition: var(--transition-normal);
  color: var(--vp-c-brand-1);
}

.VPSidebarItem.is-link.is-active .link::before {
  opacity: 1;
  left: 10px;
}

.VPSidebarItem.is-link.is-active .link {
  color: var(--vp-c-brand-1) !important;
  background-color: var(--vp-c-brand-soft-active) !important;
  border-left: 4px solid var(--vp-c-brand-2) !important;
  padding-left: 24px !important;
  font-weight: 700;
  box-shadow: var(--shadow-brand-glow);
}

.VPSidebarItem.is-link:not(.is-active):hover .link {
  color: var(--vp-c-brand-1) !important;
  background-color: var(--vp-c-brand-soft-hover) !important;
  padding-left: 24px !important;
}

/* ===== 5. 介面細節與 Navbar Title ===== */
.VPNavBar {
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--vp-c-divider);
}

.VPNavBarTitle .title {
  font-weight: 800;
  font-size: 1.15rem;
  letter-spacing: -0.02em;
  background: var(--vp-home-hero-name-background) !important;
  -webkit-background-clip: text !important;
  background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  transition: opacity var(--transition-normal);
  margin-left: 8px;
}

.VPNavBarTitle:hover .title {
  opacity: 0.85;
}

.VPNavBarTitle .logo {
  height: 32px !important;
  transition: transform var(--duration-standard) var(--ease-bounce);
}

.VPNavBarTitle:hover .logo {
  transform: scale(1.1) rotate(5deg);
}

/* 捲軸美化 */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: var(--vp-c-bg);
}

::-webkit-scrollbar-thumb {
  background: var(--vp-c-brand-1);
  border-radius: var(--radius-xl);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--vp-c-brand-2);
}

/* 搜尋框微調 */
.DocSearch-Button:hover {
  border-color: var(--vp-c-brand-1) !important;
}

.VPHomeHero .name {
  background: var(--vp-home-hero-name-background) !important;
  -webkit-background-clip: text !important;
  background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
}

/* Hero Section 向下箭頭指示器 */
.VPHero {
  position: relative;
}

@media (max-width: 640px) {
  .VPNavBarTitle .title {
    font-size: 1rem;
  }

  .vp-doc h1 {
    font-size: 2rem;
  }
}

/* ===== 桌面版 TOC 優化 ===== */

/* >= 1280px: TOC 常駐顯示 (Always On) */
@media (min-width: 1280px) {
  .VPDocAside {
    display: block !important;
    opacity: 1 !important;
  }

  .VPDocAsideOutline {
    display: block !important;
  }
}

/* < 1280px: 隱藏 TOC，使用 MobileTOC */
@media (max-width: 1279px) {
  .VPDocAside {
    display: none;
  }
}

/* Hide TOC completely on pages with outline: false */
/* Browser testing confirmed .VPDocOutlineItem is truly :empty on these pages */
.VPDocAsideOutline:has(.VPDocOutlineItem:empty) .outline-title,
.VPDocAsideOutline:has(.VPDocOutlineItem:empty) .outline-marker {
  display: none !important;
}

/* ===== CATEGORY COLOR CLASSES ===== */
.cat-ai {
  color: var(--cat-ai-color) !important;
}

.cat-backend {
  color: var(--cat-backend-color) !important;
}

.cat-frontend {
  color: var(--cat-frontend-color) !important;
}

.cat-devops {
  color: var(--cat-devops-color) !important;
}

.cat-data {
  color: var(--cat-data-color) !important;
}

.cat-bg-ai {
  color: var(--cat-ai-color);
  background-color: color-mix(in srgb, var(--cat-ai-color) 10%, transparent);
}

.cat-bg-backend {
  color: var(--cat-backend-color);
  background-color: color-mix(in srgb, var(--cat-backend-color) 10%, transparent);
}

.cat-bg-frontend {
  color: var(--cat-frontend-color);
  background-color: color-mix(in srgb, var(--cat-frontend-color) 10%, transparent);
}

.cat-bg-devops {
  color: var(--cat-devops-color);
  background-color: color-mix(in srgb, var(--cat-devops-color) 10%, transparent);
}

.cat-bg-data {
  color: var(--cat-data-color);
  background-color: color-mix(in srgb, var(--cat-data-color) 10%, transparent);
}


/* ===== Fix Special Pages Centering ===== */
/* Target pages without sidebar (tags, about) - hide aside and center content */
#VPContent:not(.has-sidebar) .VPDoc .aside {
  display: none !important;
}

/* Make container full width on pages without sidebar */
#VPContent:not(.has-sidebar) .VPDoc .container {
  max-width: 100% !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/* Center the doc content on pages without sidebar */
#VPContent:not(.has-sidebar) .vp-doc {
  max-width: 1400px !important;
  margin: 0 auto !important;
  padding: 0 2rem !important;
}

/* Ensure custom components handle their own centering */
.about-container {
  width: 100%;
  margin: 0 auto;
}

/* ===== Shared Button Styles (透明邊框設計) ===== */
.share-button-elegant {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: transparent;
  border: 1px solid var(--vp-c-brand-1);
  border-radius: var(--radius-md, 6px);
  color: var(--vp-c-brand-1);
  cursor: pointer;
  transition: all 0.25s ease;
  font-size: 0.95rem;
  font-weight: 600;
}

.share-button-elegant:hover {
  background: var(--vp-c-brand-1);
  color: white;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(220, 38, 38, 0.25);
}

.share-button-elegant:active {
  transform: translateY(0);
}

/* Dark Mode */
.dark .share-button-elegant:hover {
  box-shadow: 0 4px 12px rgba(251, 146, 60, 0.3);
}